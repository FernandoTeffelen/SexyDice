{% extends 'base.html' %}

{% block title %}Comprar Acesso{% endblock %}

{% block content %}
<div class="form-container">
    <h2>Adquirir Acesso</h2>
    <p class="text-center mb-4">Escolha um plano para liberar acesso total ao jogo.</p>

    <div class="card mb-4">
        <div class="card-body text-center">
            <h5 class="card-title">Acesso Mensal</h5>
            <p class="card-text fs-2 fw-bold">R$ 10,00</p>
            <p class="text-muted">Acesso completo por 30 dias.</p>
            
            <div class="input-group mb-3">
                <span class="input-group-text"><i class="bi bi-envelope-fill"></i></span>
                <input type="email" class="form-control" id="payerEmail" placeholder="Seu e-mail de cadastro" required>
            </div>
            
            <button id="payButton" class="btn btn-primary w-100">
                <i class="bi bi-qr-code"></i> Pagar com PIX
            </button>
        </div>
    </div>

    <div id="payment-area" class="text-center" style="display: none;">
        <p>Escaneie o QR Code abaixo com seu app de banco:</p>
        <img id="qrCodeImage" src="" alt="QR Code PIX" class="img-fluid mb-3" style="max-width: 250px;">
        <p class="fw-bold">Aguardando pagamento...</p>
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-3 text-muted small">Após o pagamento, o acesso será liberado automaticamente na sua conta.</p>
    </div>
</div>
{% endblock %}

{% block scripts %}
    {{ super() }}
    <script src="{{ url_for('static', filename='js/compra.js') }}"></script>
{% endblock %}